!function(a){"use strict";reduk.field_objects=reduk.field_objects||{},reduk.field_objects.color=reduk.field_objects.color||{},a(document).ready(function(){}),reduk.field_objects.color.init=function(b){b||(b=a(document).find(".reduk-group-tab:visible").find(".reduk-container-color:visible")),a(b).each(function(){var b=a(this),c=b;b.hasClass("reduk-field-container")||(c=b.parents(".reduk-field-container:first")),c.is(":hidden")||c.hasClass("reduk-field-init")&&(c.removeClass("reduk-field-init"),b.find(".reduk-color-init").wpColorPicker({change:function(c,d){a(this).val(d.color.toString()),reduk_change(a(this)),b.find("#"+c.target.getAttribute("data-id")+"-transparency").removeAttr("checked")},clear:function(b,c){a(this).val(""),reduk_change(a(this).parent().find(".reduk-color-init"))}}),b.find(".reduk-color").on("focus",function(){a(this).data("oldcolor",a(this).val())}),b.find(".reduk-color").on("keyup",function(){var c=a(this).val(),d=colorValidate(this),e="#"+a(this).attr("id");"transparent"===c?(a(this).parent().parent().find(".wp-color-result").css("background-color","transparent"),b.find(e+"-transparency").attr("checked","checked")):(b.find(e+"-transparency").removeAttr("checked"),d&&d!==a(this).val()&&a(this).val(d))}),b.find(".reduk-color").on("blur",function(){var c=a(this).val(),d="#"+a(this).attr("id");"transparent"===c?(a(this).parent().parent().find(".wp-color-result").css("background-color","transparent"),b.find(d+"-transparency").attr("checked","checked")):(colorValidate(this)===c&&0!==c.indexOf("#")&&a(this).val(a(this).data("oldcolor")),b.find(d+"-transparency").removeAttr("checked"))}),b.find(".reduk-color").on("keydown",function(){a(this).data("oldkeypress",a(this).val())}),b.find(".color-transparency").on("click",function(){if(a(this).is(":checked"))b.find(".reduk-saved-color").val(a("#"+a(this).data("id")).val()),b.find("#"+a(this).data("id")).val("transparent"),b.find("#"+a(this).data("id")).parent().parent().find(".wp-color-result").css("background-color","transparent");else if("transparent"===b.find("#"+a(this).data("id")).val()){var c=a(".reduk-saved-color").val();""===c&&(c=a("#"+a(this).data("id")).data("default-color")),b.find("#"+a(this).data("id")).parent().parent().find(".wp-color-result").css("background-color",c),b.find("#"+a(this).data("id")).val(c)}reduk_change(a(this))}))})}}(jQuery);